import ssdeep
import csv

list_data = []
with open('Results.csv', 'rb') as csvfile:
    csvreader = csv.reader(csvfile)
    # This skips the first row of the CSV file.
    # csvreader.next() also works in Python 2.
    next(csvreader)

    for row in csvreader:
		list_data += [[row[0],row[1],row[2]]]

innerlist_data = list_data
myFile = open('Results1.csv', 'wb')
with myFile:
	myFields = ['MD51','MD52','Package1','Package2','SSDEEP1','SSDEEP2','Percentage']
	writer = csv.DictWriter(myFile, fieldnames=myFields)
	writer.writeheader()
	for item in list_data:
		for item1 in innerlist_data:
			cmp = ssdeep.compare(item[2], item1[2])
			if (cmp > 0):
				writer.writerow({'MD51' : str(item[0]), 'MD52' : str(item1[0]), 'Package1' : str(item[1]),'Package2' : str(item1[1]), 'SSDEEP1' : str(item[2]), 'SSDEEP2' : str(item1[2]), 'Percentage' : str(cmp)})
				print 'SSDEEP1 : '+ str(item[2]) 
				print 'SSDEEP2 : '+ str(item1[2])
				print '% : '+str(cmp)
			
	
		
